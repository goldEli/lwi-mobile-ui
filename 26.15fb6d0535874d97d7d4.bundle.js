(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1502:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"taro_form_core",(function(){return Form}));var _index_310de3d5_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(225);const Form=class{constructor(hostRef){Object(_index_310de3d5_js__WEBPACK_IMPORTED_MODULE_0__.g)(this,hostRef),this.onSubmit=Object(_index_310de3d5_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"submit",7),this.value={}}watchSlotParent(newParent){if(this.orginalAppendChild||(this.orginalAppendChild=this.el.appendChild,this.orginalInsertBefore=this.el.insertBefore,this.orginalReplaceChild=this.el.replaceChild,this.orginalRemoveChild=this.el.removeChild),!newParent)return this.el.appendChild=this.orginalAppendChild,this.el.insertBefore=this.orginalInsertBefore,this.el.replaceChild=this.orginalReplaceChild,void(this.el.removeChild=this.orginalRemoveChild);this.el.appendChild=newChild=>newParent.appendChild(newChild),this.el.insertBefore=(newChild,refChild)=>newParent.insertBefore(newChild,refChild),this.el.replaceChild=(newChild,oldChild)=>newParent.replaceChild(newChild,oldChild),this.el.removeChild=oldChild=>newParent.removeChild(oldChild)}onButtonSubmit(e){e.stopPropagation(),this.value=this.getFormValue(),this.onSubmit.emit({value:this.value})}onButtonReset(e){e.stopPropagation(),this.form.reset()}componentDidLoad(){this.value=this.getFormValue(),Object.defineProperty(this.el,"value",{get:()=>this.value,configurable:!0})}componentDidRender(){this.setSlotParent(this.form)}getFormValue(){const el=this.el,elements=[],tagElements=el.getElementsByTagName("input");for(let j=0;j<tagElements.length;j++)elements.push(tagElements[j]);const formItem={},hash={};elements.forEach(item=>{-1===item.className.indexOf("weui-switch")?"radio"!==item.type?"checkbox"!==item.type?formItem[item.name]=item.value:item.checked?hash[item.name]?formItem[item.name].push(item.value):(hash[item.name]=!0,formItem[item.name]=[item.value]):hash[item.name]||(formItem[item.name]=[]):item.checked?(hash[item.name]=!0,formItem[item.name]=item.value):hash[item.name]||(formItem[item.name]=""):formItem[item.name]=item.checked});const textareaElements=el.getElementsByTagName("textarea"),textareaEleArr=[];for(let i=0;i<textareaElements.length;i++)textareaEleArr.push(textareaElements[i]);return textareaEleArr.forEach(v=>{formItem[v.name]=v.value}),formItem}setSlotParent(el){this.slotParent=el}render(){return Object(_index_310de3d5_js__WEBPACK_IMPORTED_MODULE_0__.e)("form",{ref:dom=>{dom&&(this.form=dom)}},Object(_index_310de3d5_js__WEBPACK_IMPORTED_MODULE_0__.e)("slot",null))}get el(){return Object(_index_310de3d5_js__WEBPACK_IMPORTED_MODULE_0__.d)(this)}static get watchers(){return{slotParent:["watchSlotParent"]}}}}}]);
//# sourceMappingURL=26.15fb6d0535874d97d7d4.bundle.js.map